@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth scrolling and consistent box model */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

/* Prevent text size adjustment on mobile after orientation change */
body {
  -webkit-text-size-adjust: 100%;
}

/* ── Cozy mode animations ─────────────────────────────────────────────────── */
@keyframes cozy-flicker {
  0%,  100% { transform: rotate(-2deg)  scaleX(1)    scaleY(1);    opacity: 0.90; }
  20%        { transform: rotate(1deg)   scaleX(0.95) scaleY(1.05); opacity: 1;    }
  40%        { transform: rotate(-1deg)  scaleX(1.04) scaleY(0.96); opacity: 0.85; }
  60%        { transform: rotate(2deg)   scaleX(0.97) scaleY(1.03); opacity: 0.95; }
  80%        { transform: rotate(-0.5deg) scaleX(1.02) scaleY(0.99); opacity: 0.90; }
}

@keyframes cozy-ember {
  0%   { transform: translateY(0)     translateX(0);   opacity: 0.9; }
  100% { transform: translateY(-90px) translateX(8px); opacity: 0;   }
}

@keyframes cozy-glow {
  0%,  100% { opacity: 0.65; transform: translateX(-50%) scale(1);   }
  50%        { opacity: 1;    transform: translateX(-50%) scale(1.12); }
}


/* ── Bottom navigation safe area (iPhone home indicator) ─────────────────── */
/* Extends the 80px nav downward to cover the safe area on modern iPhones.    */
.bottom-nav-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Page containers that sit above the bottom nav need this bottom padding.    */
.page-bottom-safe {
  padding-bottom: calc(80px + env(safe-area-inset-bottom, 0px));
}

/* ── ISBN scanner scan-line animation ────────────────────────────────────── */
@keyframes scan-line {
  0%   { top: 0; }
  50%  { top: calc(100% - 2px); }
  100% { top: 0; }
}

.animate-scan-line {
  animation: scan-line 1.8s ease-in-out infinite;
  position: absolute;
}

/* ── Cozy mode primary-color override for focused inputs ─────────────────── */
/* Overrides the hardcoded Tailwind focus:border-[#160a9d] class              */
input:focus,
select:focus,
textarea:focus {
  border-color: var(--primary, #160a9d);
}

